# ğŸ“˜ PSI íŒŒì´í”„ë¼ì¸ ìƒì„¸ ê°€ì´ë“œ

**ìœ„ìƒì²œì´ê°„ì„­ë²•(Phase Shifting Interferometry) ê¸°ë°˜ 3D ë†’ì´ ì¬êµ¬ì„± ì™„ì „ ê°€ì´ë“œ**

ì´ ë¬¸ì„œëŠ” `run_psi_pipeline.py`ì˜ ëª¨ë“  ê¸°ëŠ¥ì„ ìƒì„¸íˆ ì„¤ëª…í•©ë‹ˆë‹¤.

---

## ğŸ“‘ ëª©ì°¨

1. [ê°œìš”](#1-ê°œìš”)
2. [íŒŒì´í”„ë¼ì¸ êµ¬ì¡°](#2-íŒŒì´í”„ë¼ì¸-êµ¬ì¡°)
3. [ë‹¨ê³„ë³„ ìƒì„¸ ì„¤ëª…](#3-ë‹¨ê³„ë³„-ìƒì„¸-ì„¤ëª…)
   - [3.1 ë°ì´í„° ìƒì„± (generate)](#31-ë°ì´í„°-ìƒì„±-generate)
   - [3.2 UNet ì‚¬ì „í•™ìŠµ (pretrain)](#32-unet-ì‚¬ì „í•™ìŠµ-pretrain)
   - [3.3 PINN ë¯¸ì„¸ì¡°ì • (finetune)](#33-pinn-ë¯¸ì„¸ì¡°ì •-finetune)
   - [3.4 ì¶”ë¡  (inference)](#34-ì¶”ë¡ -inference)
   - [3.5 í…ŒìŠ¤íŠ¸ (test)](#35-í…ŒìŠ¤íŠ¸-test)
   - [3.6 ì „ì²´ ì‹¤í–‰ (all)](#36-ì „ì²´-ì‹¤í–‰-all)
4. [ì˜µì…˜ ìƒì„¸ ì„¤ëª…](#4-ì˜µì…˜-ìƒì„¸-ì„¤ëª…)
5. [ì¶œë ¥ íŒŒì¼ êµ¬ì¡°](#5-ì¶œë ¥-íŒŒì¼-êµ¬ì¡°)
6. [ê³ ê¸‰ ì‚¬ìš©ë²•](#6-ê³ ê¸‰-ì‚¬ìš©ë²•)
7. [íŠ¸ëŸ¬ë¸”ìŠˆíŒ…](#7-íŠ¸ëŸ¬ë¸”ìŠˆíŒ…)
8. [FAQ](#8-faq)

---

## 1. ê°œìš”

### 1.1 PSIë€?

**ìœ„ìƒì²œì´ê°„ì„­ë²•(Phase Shifting Interferometry)**ì€ ë ˆì´ì € ê°„ì„­ íŒ¨í„´ì„ ë¶„ì„í•˜ì—¬ ë‚˜ë…¸ë¯¸í„° ë‹¨ìœ„ì˜ í‘œë©´ ë†’ì´ë¥¼ ì¸¡ì •í•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤.

**ì›ë¦¬**:
```
ë ˆì´ì € ê°„ì„­ â†’ Bucket ì´ë¯¸ì§€ ìƒì„± â†’ ìœ„ìƒ ë³µì› â†’ ë†’ì´ ê³„ì‚°
```

**ì´ íŒŒì´í”„ë¼ì¸ì˜ ëª©í‘œ**:
- ì…ë ¥: 16ê°œì˜ Bucket ì´ë¯¸ì§€ (4 íŒŒì¥ Ã— 4 ìœ„ìƒ ì‹œí”„íŠ¸)
- ì¶œë ¥: 2D í‘œë©´ ë†’ì´ ë§µ

### 1.2 íŒŒì´í”„ë¼ì¸ ì² í•™

**Physics-Informed Neural Network (PINN)** ì ‘ê·¼:
- ë¬¼ë¦¬ ëª¨ë¸ì„ ì†ì‹¤ í•¨ìˆ˜ì— í†µí•©
- ë°ì´í„° íš¨ìœ¨ì„± í–¥ìƒ
- ë¬¼ë¦¬ì ìœ¼ë¡œ íƒ€ë‹¹í•œ ê²°ê³¼ ë³´ì¥

**2ë‹¨ê³„ ì ‘ê·¼**:
1. **UNet ì‚¬ì „í•™ìŠµ**: ë¹ ë¥¸ ìˆ˜ë ´, ì „ì—­ì  íŠ¹ì§• í•™ìŠµ
2. **PINN ë¯¸ì„¸ì¡°ì •** (ì„ íƒì ): ë¬¼ë¦¬ ì œì•½ ê°•í™”, ì •ë°€ë„ í–¥ìƒ

---

## 2. íŒŒì´í”„ë¼ì¸ êµ¬ì¡°

### 2.1 ì „ì²´ íë¦„ë„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. generate    â”‚  í•©ì„± ë°ì´í„° ìƒì„±
â”‚  (ë°ì´í„° ìƒì„±)   â”‚  â”œâ”€ í›ˆë ¨ ë°ì´í„° (20ê°œ ê¸°ë³¸)
â”‚                 â”‚  â””â”€ í…ŒìŠ¤íŠ¸ ë°ì´í„° (5ê°œ ê¸°ë³¸)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. pretrain    â”‚  UNet í•™ìŠµ
â”‚  (ì‚¬ì „í•™ìŠµ)      â”‚  â”œâ”€ UNetPhysicsLoss ì‚¬ìš©
â”‚                 â”‚  â”œâ”€ Adam ì˜µí‹°ë§ˆì´ì €
â”‚                 â”‚  â””â”€ ì²´í¬í¬ì¸íŠ¸ ì €ì¥
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. finetune    â”‚  PINN ë¯¸ì„¸ì¡°ì • (ì„ íƒì )
â”‚  (ë¯¸ì„¸ì¡°ì •)      â”‚  â””â”€ ê³ ê¸‰ ì‚¬ìš©ììš©
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. inference   â”‚  ì¶”ë¡ 
â”‚  (ì¶”ë¡ )         â”‚  â”œâ”€ í…ŒìŠ¤íŠ¸ ë°ì´í„° ì˜ˆì¸¡
â”‚                 â”‚  â””â”€ ì‹œê°í™” ì €ì¥
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. test        â”‚  í‰ê°€
â”‚  (í…ŒìŠ¤íŠ¸)       â”‚  â”œâ”€ RMSE, MAE, MAPE ê³„ì‚°
â”‚                 â”‚  â””â”€ ë©”íŠ¸ë¦­ ì‹œê°í™”
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
outputs/
â”œâ”€ synthetic_data/          # í•©ì„± ë°ì´í„°
â”‚   â”œâ”€ train/
â”‚   â”‚   â”œâ”€ sample_0000/
â”‚   â”‚   â”‚   â”œâ”€ bucket_00.bmp ~ bucket_15.bmp  # 16ì±„ë„ ì…ë ¥
â”‚   â”‚   â”‚   â””â”€ ground_truth.npy                # ì •ë‹µ ë†’ì´
â”‚   â”‚   â””â”€ sample_0001/
â”‚   â”‚       â””â”€ ...
â”‚   â””â”€ test/
â”‚       â””â”€ ...
â”œâ”€ models/                  # í•™ìŠµëœ ëª¨ë¸
â”‚   â”œâ”€ unet_best.pth       # ìµœê³  ì„±ëŠ¥ ëª¨ë¸
â”‚   â””â”€ unet_final.pth      # ìµœì¢… ì—í¬í¬ ëª¨ë¸
â”œâ”€ results/                 # ê²°ê³¼
â”‚   â”œâ”€ metrics.json        # í‰ê°€ ë©”íŠ¸ë¦­
â”‚   â”œâ”€ inference_results.json  # ì¶”ë¡  ê²°ê³¼
â”‚   â”œâ”€ unet_history.json   # í•™ìŠµ ì´ë ¥
â”‚   â”œâ”€ unet_training_curve.png  # í•™ìŠµ ê³¡ì„ 
â”‚   â”œâ”€ metrics_distribution.png # ë©”íŠ¸ë¦­ ë¶„í¬
â”‚   â””â”€ visualizations/
â”‚       â”œâ”€ inference_0000.png   # ì˜ˆì¸¡ vs ì‹¤ì œ
â”‚       â””â”€ ...
â””â”€ logs/                    # ë¡œê·¸ (í–¥í›„ ì¶”ê°€)
```

---

## 3. ë‹¨ê³„ë³„ ìƒì„¸ ì„¤ëª…

### 3.1 ë°ì´í„° ìƒì„± (generate)

#### ëª©ì 
í•©ì„± bucket ì´ë¯¸ì§€ì™€ ground truth ë†’ì´ ë§µì„ ìƒì„±í•©ë‹ˆë‹¤.

#### ì‹¤í–‰
```bash
python examples/run_psi_pipeline.py generate
```

#### ì£¼ìš” ì˜µì…˜
```bash
--num-train-samples 20    # í›ˆë ¨ ìƒ˜í”Œ ìˆ˜
--num-test-samples 5      # í…ŒìŠ¤íŠ¸ ìƒ˜í”Œ ìˆ˜
--image-size 256          # ì´ë¯¸ì§€ í¬ê¸° (256x256)
```

#### ë™ì‘ ê³¼ì •

1. **ë†’ì´ ë§µ ìƒì„±**:
   ```python
   # ëœë¤ ê°€ìš°ì‹œì•ˆ ë²”í”„ë¡œ í‘œë©´ ìƒì„±
   height_map = generate_random_surface(size=(256, 256))
   ```

2. **ë¬¼ë¦¬ ì‹œë®¬ë ˆì´ì…˜**:
   ```python
   # ê° íŒŒì¥, ê° ìœ„ìƒ ì‹œí”„íŠ¸ì— ëŒ€í•´
   for wavelength in [5.0, 5.5, 6.05, 6.655]:  # Î¼m
       for delta in [0, Ï€/2, Ï€, 3Ï€/2]:
           phase = (4Ï€ / wavelength) * height
           bucket = A + B * cos(phase + delta)
   ```

3. **íŒŒì¼ ì €ì¥**:
   - Ground truth: `.npy` í˜•ì‹ (float32, ë†’ì€ ì •ë°€ë„)
   - Bucket ì´ë¯¸ì§€: `.bmp` í˜•ì‹ (uint8, 0-255)

#### ì¶œë ¥ ì˜ˆì œ
```
outputs/synthetic_data/train/sample_0000/
â”œâ”€ bucket_00.bmp  # íŒŒì¥ 1, ìœ„ìƒ 0
â”œâ”€ bucket_01.bmp  # íŒŒì¥ 1, ìœ„ìƒ Ï€/2
â”œâ”€ bucket_02.bmp  # íŒŒì¥ 1, ìœ„ìƒ Ï€
â”œâ”€ bucket_03.bmp  # íŒŒì¥ 1, ìœ„ìƒ 3Ï€/2
â”œâ”€ bucket_04.bmp  # íŒŒì¥ 2, ìœ„ìƒ 0
...
â”œâ”€ bucket_15.bmp  # íŒŒì¥ 4, ìœ„ìƒ 3Ï€/2
â””â”€ ground_truth.npy
```

#### ì‹œë“œ ê³ ì •
- í›ˆë ¨ ë°ì´í„°: `seed = 42 + sample_idx`
- í…ŒìŠ¤íŠ¸ ë°ì´í„°: `seed = 10000 + sample_idx`
- ì¬í˜„ ê°€ëŠ¥ì„± ë³´ì¥

---

### 3.2 UNet ì‚¬ì „í•™ìŠµ (pretrain)

#### ëª©ì 
Bucket ì´ë¯¸ì§€ë¡œë¶€í„° ë†’ì´ ë§µì„ ì¬êµ¬ì„±í•˜ëŠ” UNet ëª¨ë¸ì„ í•™ìŠµí•©ë‹ˆë‹¤.

#### ì‹¤í–‰
```bash
python examples/run_psi_pipeline.py pretrain
```

#### ì£¼ìš” ì˜µì…˜
```bash
--epochs 50               # í•™ìŠµ ì—í¬í¬ ìˆ˜
--batch-size 4            # ë°°ì¹˜ í¬ê¸°
--learning-rate 1e-3      # í•™ìŠµë¥ 
--patch-size 256          # íŒ¨ì¹˜ í¬ê¸°
--smoothness-weight 1e-4  # í‰í™œë„ ê°€ì¤‘ì¹˜
--device cuda             # GPU/CPU
```

#### ëª¨ë¸ êµ¬ì¡°

**UNet**:
```
ì…ë ¥: (N, 16, 256, 256)   # 16ì±„ë„ bucket ì´ë¯¸ì§€
  â†“
[Encoder]
  Conv1: 16 â†’ 64
  Conv2: 64 â†’ 128
  Conv3: 128 â†’ 256
  Conv4: 256 â†’ 512
  â†“
[Bottleneck]
  Conv5: 512 â†’ 1024
  â†“
[Decoder]
  UpConv4: 1024 â†’ 512 (+ skip connection)
  UpConv3: 512 â†’ 256
  UpConv2: 256 â†’ 128
  UpConv1: 128 â†’ 64
  â†“
ì¶œë ¥: (N, 1, 256, 256)    # ë†’ì´ ë§µ
```

#### ì†ì‹¤ í•¨ìˆ˜

**UNetPhysicsLoss**:
```python
total_loss = loss_data + Î» * loss_smoothness

# 1. ë°ì´í„° ì¼ì¹˜ ì†ì‹¤
phase_pred = (4Ï€ / wavelength) * height_pred
bucket_pred = A + B * cos(phase_pred + delta)
loss_data = MSE(bucket_pred, bucket_real)

# 2. í‰í™œë„ ì •ê·œí™”
laplacian = âˆ‡Â²height_pred
loss_smoothness = MSE(laplacian, 0)
```

**ë¬¼ë¦¬ì  ì˜ë¯¸**:
- `loss_data`: ì˜ˆì¸¡ ë†’ì´ê°€ ë¬¼ë¦¬ì ìœ¼ë¡œ ì¼ì¹˜í•˜ëŠ”ê°€?
- `loss_smoothness`: í‘œë©´ì´ ë¶€ë“œëŸ¬ìš´ê°€? (ë…¸ì´ì¦ˆ ì–µì œ)

#### í•™ìŠµ ê³¼ì •

1. **ë°ì´í„° ë¡œë”©**:
   ```python
   dataset = WaferPatchDataset(train_dir, patch_size=256, num_channels=16)
   loader = DataLoader(dataset, batch_size=4, shuffle=True)
   ```

2. **ìµœì í™”**:
   ```python
   optimizer = Adam(model.parameters(), lr=1e-3)
   scheduler = StepLR(optimizer, step_size=epochs//3, gamma=0.5)
   ```

3. **ì²´í¬í¬ì¸íŠ¸**:
   - ë§¤ ì—í¬í¬ë§ˆë‹¤ ì†ì‹¤ ê°ì†Œ ì‹œ ìë™ ì €ì¥
   - `unet_best.pth`: ìµœê³  ì„±ëŠ¥ ëª¨ë¸
   - `unet_final.pth`: ë§ˆì§€ë§‰ ì—í¬í¬ ëª¨ë¸

#### í•™ìŠµ ê³¡ì„  í•´ì„

**ì •ìƒì ì¸ í•™ìŠµ**:
```
Total Loss: 1e-1 â†’ 1e-3 â†’ 1e-5 (ë¡œê·¸ ìŠ¤ì¼€ì¼ ê°ì†Œ)
Data Loss:  1e-1 â†’ 1e-3
Smooth Loss: 1e-3 â†’ 1e-5
```

**ë¬¸ì œ ì‹ í˜¸**:
- Lossê°€ ì¦ê°€: í•™ìŠµë¥ ì´ ë„ˆë¬´ í¼
- Lossê°€ ì •ì²´: ë” ê¸´ í•™ìŠµ í•„ìš” ë˜ëŠ” ë” ë³µì¡í•œ ëª¨ë¸ í•„ìš”
- Lossê°€ ì§„ë™: ë°°ì¹˜ í¬ê¸°ë¥¼ ëŠ˜ë¦¬ê±°ë‚˜ í•™ìŠµë¥  ê°ì†Œ

---

### 3.3 PINN ë¯¸ì„¸ì¡°ì • (finetune)

#### ëª©ì 
ë¬¼ë¦¬ ì œì•½ì„ ë” ê°•í•˜ê²Œ ì ìš©í•˜ì—¬ ì •ë°€ë„ë¥¼ í–¥ìƒì‹œí‚µë‹ˆë‹¤.

#### í˜„ì¬ ìƒíƒœ
âš ï¸ **ê³ ê¸‰ ê¸°ëŠ¥ - êµ¬í˜„ ì˜ˆì •**

ëŒ€ë¶€ë¶„ì˜ ê²½ìš° UNetë§Œìœ¼ë¡œ ì¶©ë¶„í•©ë‹ˆë‹¤. PINN ë¯¸ì„¸ì¡°ì •ì€:
- ê·¹ë„ë¡œ ë†’ì€ ì •ë°€ë„ê°€ í•„ìš”í•œ ê²½ìš°
- ë¬¼ë¦¬ ë²•ì¹™ì„ ì—„ê²©íˆ ë§Œì¡±í•´ì•¼ í•˜ëŠ” ê²½ìš°
- ë…¸ì´ì¦ˆê°€ ë§ì€ ì‹¤ì œ ë°ì´í„°ì˜ ê²½ìš°

ì— ìœ ìš©í•©ë‹ˆë‹¤.

---

### 3.4 ì¶”ë¡  (inference)

#### ëª©ì 
í•™ìŠµëœ ëª¨ë¸ë¡œ ìƒˆë¡œìš´ ë°ì´í„°ì— ëŒ€í•´ ë†’ì´ë¥¼ ì˜ˆì¸¡í•©ë‹ˆë‹¤.

#### ì‹¤í–‰
```bash
python examples/run_psi_pipeline.py inference
```

#### ì£¼ìš” ì˜µì…˜
```bash
--num-visualize 5   # ì‹œê°í™”í•  ê²°ê³¼ ìˆ˜
```

#### ë™ì‘ ê³¼ì •

1. **ëª¨ë¸ ë¡œë“œ**:
   ```python
   model = UNet(n_channels=16, n_classes=1)
   checkpoint = torch.load('unet_best.pth')
   model.load_state_dict(checkpoint['model_state_dict'])
   model.eval()
   ```

2. **ì¶”ë¡ **:
   ```python
   with torch.no_grad():
       for buckets, _ in test_loader:
           height_pred = model(buckets)
   ```

3. **ì €ì¥**:
   - ì˜ˆì¸¡ ê²°ê³¼: `inference_results.json`
   - ì‹œê°í™”: `visualizations/inference_XXXX.png`

#### ì‹œê°í™” êµ¬ì„±

ê° `inference_XXXX.png`ëŠ” 2Ã—3 ë ˆì´ì•„ì›ƒ:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì˜ˆì¸¡ ë†’ì´    â”‚ Ground Truth â”‚  ì ˆëŒ€ ì˜¤ì°¨    â”‚
â”‚              â”‚              â”‚              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Bucket 0    â”‚  Bucket 1    â”‚  Bucket 2    â”‚
â”‚  (ìƒ˜í”Œ)      â”‚  (ìƒ˜í”Œ)      â”‚  (ìƒ˜í”Œ)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**í•´ì„**:
- ì˜ˆì¸¡ê³¼ GTê°€ ìœ ì‚¬ â†’ ì¢‹ì€ ì„±ëŠ¥
- ì˜¤ì°¨ ë§µì´ ê· ì¼ â†’ ì²´ê³„ì  ì˜¤ì°¨ ê°€ëŠ¥ì„±
- ì˜¤ì°¨ ë§µì´ ëœë¤ â†’ ë…¸ì´ì¦ˆ

---

### 3.5 í…ŒìŠ¤íŠ¸ (test)

#### ëª©ì 
ì¶”ë¡  ê²°ê³¼ë¥¼ ì •ëŸ‰ì ìœ¼ë¡œ í‰ê°€í•©ë‹ˆë‹¤.

#### ì‹¤í–‰
```bash
python examples/run_psi_pipeline.py test
```

#### ê³„ì‚°ë˜ëŠ” ë©”íŠ¸ë¦­

**1. RMSE (Root Mean Square Error)**:
```python
RMSE = sqrt(mean((pred - gt)Â²))
```
- ë‹¨ìœ„: ë†’ì´ ë§µê³¼ ë™ì¼ (ì˜ˆ: ë¯¸í„°)
- ì˜ë¯¸: í‰ê· ì ì¸ ì˜¤ì°¨ í¬ê¸°
- ëª©í‘œ: ë‚®ì„ìˆ˜ë¡ ì¢‹ìŒ

**2. MAE (Mean Absolute Error)**:
```python
MAE = mean(|pred - gt|)
```
- ë‹¨ìœ„: ë†’ì´ ë§µê³¼ ë™ì¼
- ì˜ë¯¸: ì ˆëŒ€ ì˜¤ì°¨ì˜ í‰ê· 
- RMSEë³´ë‹¤ ì´ìƒì¹˜ì— ëœ ë¯¼ê°

**3. MAPE (Mean Absolute Percentage Error)**:
```python
MAPE = mean(|pred - gt| / |gt|) Ã— 100
```
- ë‹¨ìœ„: í¼ì„¼íŠ¸ (%)
- ì˜ë¯¸: ìƒëŒ€ì  ì˜¤ì°¨
- ì£¼ì˜: gtê°€ 0ì— ê°€ê¹Œìš°ë©´ ë¶ˆì•ˆì •

#### í†µê³„ ì •ë³´

ê° ë©”íŠ¸ë¦­ì— ëŒ€í•´:
- `mean`: í‰ê· 
- `std`: í‘œì¤€í¸ì°¨
- `min`: ìµœì†Œê°’
- `max`: ìµœëŒ€ê°’

#### ì¶œë ¥ ì˜ˆì œ

```json
{
  "rmse_mean": 1.234e-06,
  "rmse_std": 2.456e-07,
  "rmse_min": 5.678e-07,
  "rmse_max": 3.456e-06,
  "mae_mean": 0.987e-06,
  "mae_std": 1.234e-07,
  "mape_mean": 2.45,
  "mape_std": 0.67,
  "num_samples": 5
}
```

**í•´ì„**:
- RMSE ~1Î¼m: ë§ˆì´í¬ë¡œë¯¸í„° ë‹¨ìœ„ ì •í™•ë„
- MAPE ~2%: í‰ê·  2% ìƒëŒ€ ì˜¤ì°¨
- ë‚®ì€ std: ì¼ê´€ëœ ì„±ëŠ¥

#### ì‹œê°í™”

**`metrics_distribution.png`**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RMSE íˆìŠ¤í† ê·¸ë¨â”‚ MAE íˆìŠ¤í† ê·¸ë¨ â”‚ MAPE íˆìŠ¤í† ê·¸ë¨â”‚
â”‚              â”‚              â”‚              â”‚
â”‚   ë¹ˆë„        â”‚   ë¹ˆë„        â”‚   ë¹ˆë„        â”‚
â”‚    â”‚         â”‚    â”‚         â”‚    â”‚         â”‚
â”‚  â”€â”€â”¼â”€â”€       â”‚  â”€â”€â”¼â”€â”€       â”‚  â”€â”€â”¼â”€â”€       â”‚
â”‚     RMSE     â”‚     MAE      â”‚    MAPE(%)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**í•´ì„**:
- ì •ê·œ ë¶„í¬ â†’ ì •ìƒì ì¸ ì˜¤ì°¨ ë¶„í¬
- ì™¼ìª½ìœ¼ë¡œ ì¹˜ìš°ì¹¨ â†’ ëŒ€ë¶€ë¶„ ì¢‹ì€ ì„±ëŠ¥
- ì´ìƒì¹˜ ìˆìŒ â†’ íŠ¹ì • ìƒ˜í”Œ ë¬¸ì œ ê°€ëŠ¥

---

### 3.6 ì „ì²´ ì‹¤í–‰ (all)

#### ëª©ì 
ëª¨ë“  ë‹¨ê³„ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰í•©ë‹ˆë‹¤.

#### ì‹¤í–‰
```bash
python examples/run_psi_pipeline.py all
```

#### ì‹¤í–‰ ìˆœì„œ
```
generate â†’ pretrain â†’ inference â†’ test
```

**ì£¼ì˜**: `finetune`ì€ ì œì™¸ë©ë‹ˆë‹¤ (ì„ íƒì  ë‹¨ê³„).

#### ê¶Œì¥ ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤

**ì²« ì‹¤í–‰**:
```bash
python examples/run_psi_pipeline.py all
```

**ë¹ ë¥¸ í…ŒìŠ¤íŠ¸** (ì‘ì€ ë°ì´í„°, ì§§ì€ í•™ìŠµ):
```bash
python examples/run_psi_pipeline.py all \
  --num-train-samples 10 \
  --num-test-samples 3 \
  --epochs 20
```

**í”„ë¡œë•ì…˜** (ë§ì€ ë°ì´í„°, ê¸´ í•™ìŠµ):
```bash
python examples/run_psi_pipeline.py all \
  --num-train-samples 200 \
  --num-test-samples 50 \
  --epochs 200 \
  --device cuda
```

---

## 4. ì˜µì…˜ ìƒì„¸ ì„¤ëª…

### 4.1 ê²½ë¡œ ì˜µì…˜

#### `--output-dir`
- **ê¸°ë³¸ê°’**: `outputs`
- **ì„¤ëª…**: ëª¨ë“  ì¶œë ¥ íŒŒì¼ì˜ ë£¨íŠ¸ ë””ë ‰í† ë¦¬
- **ì˜ˆì œ**:
  ```bash
  --output-dir /path/to/results
  --output-dir ./experiment_1
  ```

### 4.2 ë°ì´í„° ìƒì„± ì˜µì…˜

#### `--num-train-samples`
- **ê¸°ë³¸ê°’**: `20`
- **ë²”ìœ„**: `1 ~ ìˆ˜ì²œ`
- **ì„¤ëª…**: í›ˆë ¨ ìƒ˜í”Œ ìˆ˜
- **ê¶Œì¥**:
  - ë¹ ë¥¸ í…ŒìŠ¤íŠ¸: `10`
  - ì¼ë°˜ ì‚¬ìš©: `50`
  - ê³ ì„±ëŠ¥: `200+`
- **ì˜í–¥**:
  - ë§ì„ìˆ˜ë¡ ì¼ë°˜í™” ì„±ëŠ¥ í–¥ìƒ
  - ë§ì„ìˆ˜ë¡ í•™ìŠµ ì‹œê°„ ì¦ê°€

#### `--num-test-samples`
- **ê¸°ë³¸ê°’**: `5`
- **ë²”ìœ„**: `1 ~ ìˆ˜ë°±`
- **ì„¤ëª…**: í…ŒìŠ¤íŠ¸ ìƒ˜í”Œ ìˆ˜
- **ê¶Œì¥**:
  - ìµœì†Œ: `5`
  - í†µê³„ì  ìœ ì˜ì„±: `20+`
  - ì² ì €í•œ í‰ê°€: `50+`

#### `--image-size`
- **ê¸°ë³¸ê°’**: `256`
- **ì„ íƒì§€**: `64, 128, 256, 512`
- **ì„¤ëª…**: ìƒì„±í•  ì´ë¯¸ì§€ í¬ê¸° (ì •ì‚¬ê°í˜•)
- **ì˜í–¥**:
  - í° í¬ê¸°: ë” ìƒì„¸, ë” ëŠë¦¼
  - ì‘ì€ í¬ê¸°: ë¹ ë¦„, ëœ ìƒì„¸

### 4.3 í•™ìŠµ ì˜µì…˜

#### `--epochs`
- **ê¸°ë³¸ê°’**: `50`
- **ë²”ìœ„**: `10 ~ 1000`
- **ì„¤ëª…**: í•™ìŠµ ì—í¬í¬ ìˆ˜
- **ê¶Œì¥**:
  - ë¹ ë¥¸ í…ŒìŠ¤íŠ¸: `20`
  - ì¼ë°˜ ì‚¬ìš©: `50-100`
  - ìµœê³  ì„±ëŠ¥: `200+`
- **íŒ**: í•™ìŠµ ê³¡ì„ ì„ ë³´ê³  ì¡°ê¸° ì¢…ë£Œ íŒë‹¨

#### `--batch-size`
- **ê¸°ë³¸ê°’**: `4`
- **ë²”ìœ„**: `1 ~ 32`
- **ì„¤ëª…**: í•œ ë²ˆì— ì²˜ë¦¬í•  ìƒ˜í”Œ ìˆ˜
- **ì˜í–¥**:
  - í¬ë©´: ë¹ ë¦„, ë©”ëª¨ë¦¬ ë§ì´ ì‚¬ìš©
  - ì‘ìœ¼ë©´: ëŠë¦¼, ë©”ëª¨ë¦¬ ì ê²Œ ì‚¬ìš©
- **GPU ë©”ëª¨ë¦¬ë³„ ê¶Œì¥**:
  - 4GB: `batch_size=2`
  - 8GB: `batch_size=4`
  - 16GB+: `batch_size=8`

#### `--learning-rate`
- **ê¸°ë³¸ê°’**: `1e-3` (0.001)
- **ë²”ìœ„**: `1e-5 ~ 1e-2`
- **ì„¤ëª…**: í•™ìŠµë¥ 
- **ê¶Œì¥**:
  - ì•ˆì •ì : `5e-4` (0.0005)
  - ê¸°ë³¸: `1e-3` (0.001)
  - ë¹ ë¥¸ ìˆ˜ë ´: `5e-3` (0.005)
- **íŒ**: 
  - Lossê°€ ë°œì‚°í•˜ë©´ ì¤„ì´ê¸°
  - ìˆ˜ë ´ì´ ëŠë¦¬ë©´ ë†’ì´ê¸°

#### `--patch-size`
- **ê¸°ë³¸ê°’**: `256`
- **ì„¤ëª…**: í•™ìŠµ ì‹œ ì‚¬ìš©í•  íŒ¨ì¹˜ í¬ê¸°
- **ì£¼ì˜**: `image_size`ì™€ ê°™ê±°ë‚˜ ì‘ì•„ì•¼ í•¨

#### `--smoothness-weight`
- **ê¸°ë³¸ê°’**: `1e-4`
- **ë²”ìœ„**: `1e-6 ~ 1e-2`
- **ì„¤ëª…**: í‰í™œë„ ì •ê·œí™” ê°€ì¤‘ì¹˜ (Î»)
- **ì˜í–¥**:
  - í¬ë©´: ë” ë¶€ë“œëŸ¬ìš´ í‘œë©´
  - ì‘ìœ¼ë©´: ë” ìƒì„¸í•œ í‘œë©´
- **ê¶Œì¥**:
  - ë…¸ì´ì¦ˆ ë§ìŒ: `1e-3`
  - ì¼ë°˜: `1e-4`
  - ì„¸ë°€í•œ íŠ¹ì§•: `1e-5`

### 4.4 ì¶”ë¡ /í‰ê°€ ì˜µì…˜

#### `--num-visualize`
- **ê¸°ë³¸ê°’**: `5`
- **ë²”ìœ„**: `1 ~ test_samples`
- **ì„¤ëª…**: ì‹œê°í™”í•  ê²°ê³¼ ìˆ˜
- **ì£¼ì˜**: ë§ì„ìˆ˜ë¡ ë””ìŠ¤í¬ ê³µê°„ ë§ì´ ì‚¬ìš©

### 4.5 ì‹œìŠ¤í…œ ì˜µì…˜

#### `--device`
- **ê¸°ë³¸ê°’**: `cuda`
- **ì„ íƒì§€**: `cuda`, `cpu`
- **ì„¤ëª…**: ì—°ì‚° ë””ë°”ì´ìŠ¤
- **ìë™ ì²˜ë¦¬**: CUDA ì‚¬ìš© ë¶ˆê°€ ì‹œ ìë™ìœ¼ë¡œ CPU ì‚¬ìš©

---

## 5. ì¶œë ¥ íŒŒì¼ êµ¬ì¡°

### 5.1 ì „ì²´ êµ¬ì¡°

```
outputs/
â”œâ”€ synthetic_data/
â”‚   â”œâ”€ train/
â”‚   â”‚   â”œâ”€ sample_0000/
â”‚   â”‚   â”‚   â”œâ”€ bucket_00.bmp
â”‚   â”‚   â”‚   â”œâ”€ ...
â”‚   â”‚   â”‚   â”œâ”€ bucket_15.bmp
â”‚   â”‚   â”‚   â””â”€ ground_truth.npy
â”‚   â”‚   â””â”€ ...
â”‚   â””â”€ test/
â”‚       â””â”€ ...
â”œâ”€ models/
â”‚   â”œâ”€ unet_best.pth
â”‚   â””â”€ unet_final.pth
â”œâ”€ results/
â”‚   â”œâ”€ metrics.json
â”‚   â”œâ”€ inference_results.json
â”‚   â”œâ”€ unet_history.json
â”‚   â”œâ”€ unet_training_curve.png
â”‚   â”œâ”€ metrics_distribution.png
â”‚   â””â”€ visualizations/
â”‚       â”œâ”€ inference_0000.png
â”‚       â””â”€ ...
â””â”€ logs/  (í–¥í›„ ì¶”ê°€)
```

### 5.2 íŒŒì¼ í˜•ì‹

#### `ground_truth.npy`
- **í˜•ì‹**: NumPy binary
- **íƒ€ì…**: `float32`
- **í˜•íƒœ**: `(H, W)`
- **ë‹¨ìœ„**: ë¯¸í„° (m)
- **ë¡œë”©**:
  ```python
  height = np.load('ground_truth.npy')
  ```

#### `bucket_XX.bmp`
- **í˜•ì‹**: BMP ì´ë¯¸ì§€
- **íƒ€ì…**: `uint8`
- **í˜•íƒœ**: `(H, W)`
- **ë²”ìœ„**: `0-255`
- **ë¡œë”©**:
  ```python
  from PIL import Image
  bucket = np.array(Image.open('bucket_00.bmp'))
  ```

#### `unet_best.pth`
- **í˜•ì‹**: PyTorch checkpoint
- **ë‚´ìš©**:
  ```python
  {
      'epoch': int,                    # ì—í¬í¬ ë²ˆí˜¸
      'model_state_dict': OrderedDict, # ëª¨ë¸ ê°€ì¤‘ì¹˜
      'optimizer_state_dict': dict,    # ì˜µí‹°ë§ˆì´ì € ìƒíƒœ
      'loss': float,                   # ì†ì‹¤ê°’
      'config': dict                   # ì„¤ì •
  }
  ```
- **ë¡œë”©**:
  ```python
  checkpoint = torch.load('unet_best.pth')
  model.load_state_dict(checkpoint['model_state_dict'])
  ```

#### `metrics.json`
- **í˜•ì‹**: JSON
- **êµ¬ì¡°**:
  ```json
  {
      "rmse_mean": float,
      "rmse_std": float,
      "rmse_min": float,
      "rmse_max": float,
      "mae_mean": float,
      "mae_std": float,
      "mape_mean": float,
      "mape_std": float,
      "num_samples": int
  }
  ```

---

## 6. ê³ ê¸‰ ì‚¬ìš©ë²•

### 6.1 ì»¤ìŠ¤í…€ ì†ì‹¤ í•¨ìˆ˜ ê°€ì¤‘ì¹˜

ì½”ë“œì—ì„œ ì§ì ‘ ìˆ˜ì •:

```python
# examples/run_psi_pipeline.pyì˜ train_unet() í•¨ìˆ˜ ë‚´ë¶€

criterion = UNetPhysicsLoss(
    wavelengths=self.wavelengths,
    num_buckets=self.num_buckets,
    smoothness_weight=1e-3  # ì—¬ê¸°ë¥¼ ë³€ê²½
)
```

### 6.2 ëª¨ë¸ êµ¬ì¡° ë³€ê²½

```python
# UNet ê¹Šì´ ì¡°ì ˆ
model = UNet(
    n_channels=16,
    n_classes=1,
    bilinear=False  # True: ë¹ ë¦„, False: ë” ì •í™•
)
```

### 6.3 ë‹¤ë¥¸ íŒŒì¥ ì‚¬ìš©

```python
# src/data_generator.py
DEFAULT_WAVELENGTHS = [4.0, 5.0, 6.0, 7.0]  # ì»¤ìŠ¤í…€ íŒŒì¥ (Î¼m)
```

### 6.4 ì¡°ê¸° ì¢…ë£Œ êµ¬í˜„

```python
# train_unet() í•¨ìˆ˜ì— ì¶”ê°€
patience = 10
best_epoch = 0

for epoch in range(self.config.epochs):
    # ... í•™ìŠµ ì½”ë“œ ...
    
    if avg_loss < best_loss:
        best_loss = avg_loss
        best_epoch = epoch
    elif epoch - best_epoch > patience:
        print(f"ì¡°ê¸° ì¢…ë£Œ: {patience} ì—í¬í¬ ë™ì•ˆ ê°œì„  ì—†ìŒ")
        break
```

### 6.5 ë‹¤ì¤‘ GPU í•™ìŠµ

```python
if torch.cuda.device_count() > 1:
    model = nn.DataParallel(model)
```

---

## 7. íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### 7.1 ë©”ëª¨ë¦¬ ê´€ë ¨

#### ë¬¸ì œ: "CUDA out of memory"

**í•´ê²° ë°©ë²•**:

1. **ë°°ì¹˜ í¬ê¸° ì¤„ì´ê¸°**:
   ```bash
   --batch-size 2
   ```

2. **ì´ë¯¸ì§€ í¬ê¸° ì¤„ì´ê¸°**:
   ```bash
   --image-size 128
   ```

3. **CPU ì‚¬ìš©**:
   ```bash
   --device cpu
   ```

4. **ê·¸ë˜ë””ì–¸íŠ¸ ëˆ„ì ** (ì½”ë“œ ìˆ˜ì • í•„ìš”):
   ```python
   accumulation_steps = 4
   for i, (inputs, targets) in enumerate(loader):
       loss = criterion(model(inputs), inputs)
       loss = loss / accumulation_steps
       loss.backward()
       
       if (i + 1) % accumulation_steps == 0:
           optimizer.step()
           optimizer.zero_grad()
   ```

### 7.2 ì„±ëŠ¥ ê´€ë ¨

#### ë¬¸ì œ: "Lossê°€ ê°ì†Œí•˜ì§€ ì•ŠìŒ"

**ì›ì¸ ë° í•´ê²°**:

1. **í•™ìŠµë¥ ì´ ë„ˆë¬´ ë‚®ìŒ**:
   ```bash
   --learning-rate 5e-3
   ```

2. **ë°ì´í„°ê°€ ë„ˆë¬´ ì ìŒ**:
   ```bash
   --num-train-samples 50
   ```

3. **ì—í¬í¬ê°€ ë¶€ì¡±**:
   ```bash
   --epochs 200
   ```

4. **ì´ˆê¸°í™” ë¬¸ì œ**:
   ```python
   # ì½”ë“œì—ì„œ ëª¨ë¸ ì´ˆê¸°í™” í™•ì¸
   def init_weights(m):
       if isinstance(m, nn.Conv2d):
           nn.init.kaiming_normal_(m.weight)
   model.apply(init_weights)
   ```

#### ë¬¸ì œ: "Lossê°€ ë°œì‚°í•¨ (NaN)"

**í•´ê²° ë°©ë²•**:

1. **í•™ìŠµë¥  ì¤„ì´ê¸°**:
   ```bash
   --learning-rate 1e-4
   ```

2. **ê·¸ë˜ë””ì–¸íŠ¸ í´ë¦¬í•‘** (ì½”ë“œ ì¶”ê°€):
   ```python
   torch.nn.utils.clip_grad_norm_(model.parameters(), max_norm=1.0)
   ```

3. **ì •ê·œí™” í™•ì¸**:
   ```python
   # Bucket ì´ë¯¸ì§€ ì •ê·œí™”
   buckets = buckets / 255.0
   ```

#### ë¬¸ì œ: "í…ŒìŠ¤íŠ¸ ì„±ëŠ¥ì´ ë‚˜ì¨ (ê³¼ì í•©)"

**í•´ê²° ë°©ë²•**:

1. **í›ˆë ¨ ë°ì´í„° ëŠ˜ë¦¬ê¸°**:
   ```bash
   --num-train-samples 100
   ```

2. **í‰í™œë„ ê°€ì¤‘ì¹˜ ëŠ˜ë¦¬ê¸°**:
   ```bash
   --smoothness-weight 1e-3
   ```

3. **Dropout ì¶”ê°€** (ì½”ë“œ ìˆ˜ì •):
   ```python
   class UNet(nn.Module):
       def __init__(self, ...):
           ...
           self.dropout = nn.Dropout(0.5)
   ```

4. **ì¡°ê¸° ì¢…ë£Œ ì‚¬ìš©**.

### 7.3 íŒŒì¼ ê´€ë ¨

#### ë¬¸ì œ: "Model file not found"

**í•´ê²° ë°©ë²•**:
```bash
# í•™ìŠµë¶€í„° ë‹¤ì‹œ
python examples/run_psi_pipeline.py pretrain
```

#### ë¬¸ì œ: "No inference results"

**í•´ê²° ë°©ë²•**:
```bash
# ì¶”ë¡ ë¶€í„° ë‹¤ì‹œ
python examples/run_psi_pipeline.py inference
python examples/run_psi_pipeline.py test
```

#### ë¬¸ì œ: "Permission denied"

**í•´ê²° ë°©ë²•**:
```bash
# ì¶œë ¥ ë””ë ‰í† ë¦¬ ê¶Œí•œ í™•ì¸
chmod -R 755 outputs/

# ë˜ëŠ” ë‹¤ë¥¸ ë””ë ‰í† ë¦¬ ì‚¬ìš©
--output-dir ~/my_results
```

### 7.4 ë°ì´í„° ê´€ë ¨

#### ë¬¸ì œ: "Dataset is empty"

**í™•ì¸ ì‚¬í•­**:

1. `outputs/synthetic_data/train/` ì¡´ì¬ í™•ì¸
2. ìƒ˜í”Œ ë””ë ‰í† ë¦¬ ë‚´ë¶€ì— 16ê°œ BMP íŒŒì¼ í™•ì¸
3. `ground_truth.npy` íŒŒì¼ í™•ì¸

**ì¬ìƒì„±**:
```bash
python examples/run_psi_pipeline.py generate
```

---

## 8. FAQ

### Q1: UNetë§Œìœ¼ë¡œ ì¶©ë¶„í•œê°€ìš”? PINNì´ ê¼­ í•„ìš”í•œê°€ìš”?

**A**: ëŒ€ë¶€ë¶„ì˜ ê²½ìš° UNetë§Œìœ¼ë¡œ ì¶©ë¶„í•©ë‹ˆë‹¤.

**UNet ì‚¬ìš© ê¶Œì¥**:
- ë¹ ë¥¸ ì¶”ë¡  í•„ìš”
- ëŒ€ëŸ‰ì˜ ë°ì´í„° ìˆìŒ
- ì‹¤ì‹œê°„ ì²˜ë¦¬ í•„ìš”

**PINN ì¶”ê°€ ê³ ë ¤**:
- ê·¹ë„ì˜ ì •ë°€ë„ í•„ìš”
- ë°ì´í„°ê°€ ì ìŒ
- ë¬¼ë¦¬ ë²•ì¹™ ì—„ê²©íˆ ì¤€ìˆ˜

### Q2: ì–¼ë§ˆë‚˜ ì •í™•í•œê°€ìš”?

**A**: ì¡°ê±´ì— ë”°ë¼ ë‹¤ë¦…ë‹ˆë‹¤.

**ì¼ë°˜ì ì¸ ì„±ëŠ¥**:
- RMSE: `1-10 Î¼m` (ë§ˆì´í¬ë¡œë¯¸í„°)
- MAPE: `1-5%`

**ì˜í–¥ ìš”ì¸**:
- í›ˆë ¨ ë°ì´í„° ì–‘
- í•™ìŠµ ì—í¬í¬ ìˆ˜
- í‘œë©´ ë³µì¡ë„
- ë…¸ì´ì¦ˆ ìˆ˜ì¤€

### Q3: ì‹¤ì œ ë°ì´í„°ë¡œë„ ì‘ë™í•˜ë‚˜ìš”?

**A**: í˜„ì¬ ë²„ì „ì€ í•©ì„± ë°ì´í„° ì „ìš©ì…ë‹ˆë‹¤.

ì‹¤ì œ ë°ì´í„° ì§€ì› ì˜ˆì •:
- ë…¸ì´ì¦ˆ ì²˜ë¦¬
- ìº˜ë¦¬ë¸Œë ˆì´ì…˜
- ë¶ˆì™„ì „í•œ ë°ì´í„° ì²˜ë¦¬

### Q4: ë‹¤ë¥¸ íŒŒì¥ì„ ì‚¬ìš©í•˜ê³  ì‹¶ì–´ìš”.

**A**: `src/data_generator.py`ì—ì„œ ë³€ê²½:

```python
DEFAULT_WAVELENGTHS = [4.0, 5.0, 6.0, 7.0]  # Î¼m ë‹¨ìœ„
```

ì£¼ì˜: íŒŒì¥ ê°œìˆ˜ë¥¼ ë³€ê²½í•˜ë©´ ì±„ë„ ìˆ˜ë„ ë³€ê²½ë©ë‹ˆë‹¤.
- 3ê°œ íŒŒì¥ Ã— 4 buckets = 12 ì±„ë„
- 4ê°œ íŒŒì¥ Ã— 4 buckets = 16 ì±„ë„
- 5ê°œ íŒŒì¥ Ã— 4 buckets = 20 ì±„ë„

### Q5: í•™ìŠµ ì‹œê°„ì€ ì–¼ë§ˆë‚˜ ê±¸ë¦¬ë‚˜ìš”?

**A**: ì‹œìŠ¤í…œê³¼ ì„¤ì •ì— ë”°ë¼ ë‹¤ë¦…ë‹ˆë‹¤.

**ì˜ˆìƒ ì‹œê°„** (ê¸°ë³¸ ì„¤ì •):

| í•˜ë“œì›¨ì–´ | ë°ì´í„° ìƒì„± | í•™ìŠµ (50 ì—í¬í¬) | ì¶”ë¡  | ì´ ì‹œê°„ |
|---------|-----------|----------------|------|--------|
| CPU (i7) | 2ë¶„ | 25ë¶„ | 1ë¶„ | ~30ë¶„ |
| GPU (RTX 3080) | 2ë¶„ | 3ë¶„ | 10ì´ˆ | ~5ë¶„ |
| GPU (A100) | 1ë¶„ | 1ë¶„ | 5ì´ˆ | ~2ë¶„ |

### Q6: ê²°ê³¼ë¥¼ ì–´ë–»ê²Œ í•´ì„í•˜ë‚˜ìš”?

**A**: ë©”íŠ¸ë¦­ ê¸°ì¤€:

**RMSE**:
- `< 1 Î¼m`: ë§¤ìš° ìš°ìˆ˜
- `1-5 Î¼m`: ìš°ìˆ˜
- `5-10 Î¼m`: ì–‘í˜¸
- `> 10 Î¼m`: ê°œì„  í•„ìš”

**MAPE**:
- `< 1%`: ë§¤ìš° ìš°ìˆ˜
- `1-5%`: ìš°ìˆ˜
- `5-10%`: ì–‘í˜¸
- `> 10%`: ê°œì„  í•„ìš”

### Q7: ëª¨ë¸ì„ ì €ì¥í•˜ê³  ë‚˜ì¤‘ì— ì‚¬ìš©í•  ìˆ˜ ìˆë‚˜ìš”?

**A**: ì˜ˆ, ê°€ëŠ¥í•©ë‹ˆë‹¤.

```python
# ì €ì¥ (ìë™ìœ¼ë¡œ ìˆ˜í–‰ë¨)
torch.save(checkpoint, 'unet_best.pth')

# ë‚˜ì¤‘ì— ë¡œë“œ
model = UNet(n_channels=16, n_classes=1)
checkpoint = torch.load('unet_best.pth')
model.load_state_dict(checkpoint['model_state_dict'])
model.eval()

# ì¶”ë¡ 
with torch.no_grad():
    prediction = model(new_input)
```

### Q8: ì—¬ëŸ¬ ì‹¤í—˜ì„ ë™ì‹œì— ì‹¤í–‰í•˜ë ¤ë©´?

**A**: ë‹¤ë¥¸ ì¶œë ¥ ë””ë ‰í† ë¦¬ ì‚¬ìš©:

```bash
# ì‹¤í—˜ 1
python examples/run_psi_pipeline.py all --output-dir outputs/exp1

# ì‹¤í—˜ 2 (ë‹¤ë¥¸ í„°ë¯¸ë„)
python examples/run_psi_pipeline.py all --output-dir outputs/exp2 --epochs 100
```

---

## ğŸ“ ì¶”ê°€ ë¦¬ì†ŒìŠ¤

- **[ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ](PSI_íŒŒì´í”„ë¼ì¸_ë¹ ë¥¸ì‹œì‘.md)**: 3ë¶„ ì•ˆì— ì‹œì‘í•˜ê¸°
- **[ìœ„ìƒì²œì´ê°„ì„­ë²• ê°€ì´ë“œ](concepts/ìœ„ìƒì²œì´ê°„ì„­ë²•_ì™„ì „_ê°€ì´ë“œ.md)**: PSI ì´ë¡  ìƒì„¸ ì„¤ëª…
- **[ì†ì‹¤ í•¨ìˆ˜ ê°€ì´ë“œ](04_ì†ì‹¤í•¨ìˆ˜.md)**: ë¬¼ë¦¬ ê¸°ë°˜ ì†ì‹¤ í•¨ìˆ˜ ì„¤ëª…

---

**ë¬¸ì˜ì‚¬í•­ì´ë‚˜ ë²„ê·¸ ë°œê²¬ ì‹œ GitHub ì´ìŠˆë¥¼ ë“±ë¡í•´ì£¼ì„¸ìš”!**
