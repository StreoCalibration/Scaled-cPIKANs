# 1단계: 환경 설정 🟢

> **난이도:** 초급  
> **소요 시간:** 10~15분  
> **사전 지식:** Python 기초

---

## 🎯 학습 목표

이 단계를 마치면 다음을 할 수 있습니다:

- ✅ Python 환경이 올바르게 설치되어 있는지 확인
- ✅ PyTorch를 포함한 모든 의존성 설치
- ✅ 프로젝트가 정상적으로 작동하는지 테스트
- ✅ GPU 사용 여부 확인 (선택사항)

---

## 📋 준비물

시작하기 전에 다음이 필요합니다:

1. **컴퓨터:** Windows, macOS, Linux 모두 가능
2. **인터넷 연결:** 패키지 다운로드를 위해 필요
3. **텍스트 에디터:** VS Code, PyCharm, Jupyter Notebook 등

---

## 🔍 1단계: Python 버전 확인

### 왜 필요한가요?

이 프로젝트는 Python 3.8 이상이 필요합니다. 구버전에서는 일부 기능이 작동하지 않을 수 있습니다.

### 어떻게 하나요?

**Windows:**
```powershell
python --version
```

**macOS/Linux:**
```bash
python3 --version
```

### 무엇을 확인하나요?

출력 예시:
```
Python 3.10.12
```

- ✅ **버전이 3.8 이상이면 OK!**
- ❌ **버전이 3.8 미만이면 Python 업그레이드 필요**

### Python 설치가 안 되어 있다면?

[Python 공식 사이트](https://www.python.org/downloads/)에서 최신 버전을 다운로드하세요.

> 💡 **팁:** 설치 시 "Add Python to PATH" 옵션을 꼭 체크하세요!

---

## 📦 2단계: 프로젝트 다운로드

### 무엇을 하나요?

GitHub에서 프로젝트를 다운로드하거나 이미 다운로드했다면 해당 폴더로 이동합니다.

### 어떻게 하나요?

**방법 1: Git으로 클론 (권장)**
```bash
git clone https://github.com/your-repo/Scaled-cPIKANs.git
cd Scaled-cPIKANs
```

**방법 2: ZIP 파일 다운로드**
1. GitHub 페이지에서 "Code" → "Download ZIP" 클릭
2. ZIP 파일 압축 해제
3. 명령 프롬프트/터미널에서 해당 폴더로 이동

### 확인하기

프로젝트 폴더 안에 다음 파일들이 있어야 합니다:
```
Scaled-cPIKANs/
├── requirements.txt  ← 이 파일이 중요!
├── README.md
├── src/
├── examples/
└── tests/
```

---

## 🔧 3단계: 가상 환경 생성 (권장)

### 왜 필요한가요?

가상 환경을 사용하면:
- 프로젝트별로 독립적인 패키지 관리
- 다른 프로젝트와 충돌 방지
- 시스템 Python 환경을 깨끗하게 유지

### 어떻게 하나요?

**Windows:**
```powershell
python -m venv venv
.\venv\Scripts\activate
```

**macOS/Linux:**
```bash
python3 -m venv venv
source venv/bin/activate
```

### 성공했는지 확인하기

명령 프롬프트 앞에 `(venv)`가 표시되면 성공!
```
(venv) C:\Users\...\Scaled-cPIKANs>
```

> 💡 **팁:** 작업을 마치면 `deactivate` 명령으로 가상 환경을 종료할 수 있습니다.

---

## 📚 4단계: 의존성 설치

### 무엇을 하나요?

`requirements.txt` 파일에 나열된 모든 라이브러리를 설치합니다.

### 어떻게 하나요?

```bash
pip install -r requirements.txt
```

### 설치되는 주요 패키지

| 패키지 | 용도 | 버전 |
|--------|------|------|
| `torch` | 딥러닝 프레임워크 | 1.x+ |
| `numpy` | 수치 계산 | 1.20+ |
| `scipy` | 과학 계산 (LHS 샘플링) | 1.7+ |
| `matplotlib` | 시각화 | 3.3+ |
| `tqdm` | 진행률 표시 | 4.60+ |

### 설치 시간

- **인터넷 속도가 빠르면:** 3~5분
- **인터넷 속도가 느리면:** 10~15분

### 설치 중 오류가 발생하면?

**문제 1: "pip not found"**
```bash
python -m ensurepip --upgrade
```

**문제 2: PyTorch 설치 실패**

PyTorch 공식 사이트에서 시스템에 맞는 명령어를 확인하세요:  
👉 [https://pytorch.org/get-started/locally/](https://pytorch.org/get-started/locally/)

**예시 (CPU 버전):**
```bash
pip install torch torchvision torchaudio
```

**예시 (CUDA 11.8 GPU):**
```bash
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118
```

---

## 🚀 5단계: GPU 설정 (선택사항)

### 왜 필요한가요?

GPU를 사용하면 훈련 속도가 **10~100배** 빨라집니다!

### GPU가 있는지 확인하기

**NVIDIA GPU 확인:**
```bash
nvidia-smi
```

출력이 나오면 GPU가 있는 것입니다.

### PyTorch가 GPU를 인식하는지 확인

Python을 실행하고:
```python
import torch
print(f"GPU 사용 가능: {torch.cuda.is_available()}")
print(f"GPU 개수: {torch.cuda.device_count()}")
if torch.cuda.is_available():
    print(f"GPU 이름: {torch.cuda.get_device_name(0)}")
```

**기대 출력 (GPU가 있는 경우):**
```
GPU 사용 가능: True
GPU 개수: 1
GPU 이름: NVIDIA GeForce RTX 3080
```

**기대 출력 (GPU가 없는 경우):**
```
GPU 사용 가능: False
GPU 개수: 0
```

> 💡 **GPU가 없어도 괜찮습니다!** CPU로도 작은 예제는 충분히 실행할 수 있습니다.

---

## ✅ 6단계: 설치 확인 테스트

### 무엇을 하나요?

모든 패키지가 제대로 설치되었는지 간단한 테스트를 실행합니다.

### 방법 1: 단위 테스트 실행

```bash
python -m unittest discover tests
```

**기대 출력:**
```
..............................
----------------------------------------------------------------------
Ran 30 tests in 12.345s

OK
```

모든 테스트가 통과하면 설치가 완벽합니다! 🎉

### 방법 2: 간단한 예제 실행

```bash
python examples/solve_helmholtz_1d.py
```

**기대 출력:**
```
=== Helmholtz 1D 방정식 해결 ===
모델 초기화 완료
데이터 생성 완료: 100개 콜로케이션 포인트
훈련 시작...
Epoch 100/1000: Loss=0.0123
...
훈련 완료!
그래프를 저장했습니다: helmholtz_1d_result.png
```

### 방법 3: 수동 확인

Python을 실행하고 각 패키지를 import 해봅니다:

```python
import torch
import numpy as np
import scipy
import matplotlib.pyplot as plt
from tqdm import tqdm

print("모든 패키지 import 성공!")
```

---

## 📊 환경 정보 확인

### 시스템 정보 출력 스크립트

전체 환경을 한눈에 확인하려면:

```python
import torch
import sys
import numpy as np
import scipy

print("=== 시스템 정보 ===")
print(f"Python 버전: {sys.version}")
print(f"PyTorch 버전: {torch.__version__}")
print(f"NumPy 버전: {np.__version__}")
print(f"SciPy 버전: {scipy.__version__}")
print(f"\n=== GPU 정보 ===")
print(f"CUDA 사용 가능: {torch.cuda.is_available()}")
if torch.cuda.is_available():
    print(f"CUDA 버전: {torch.version.cuda}")
    print(f"GPU 개수: {torch.cuda.device_count()}")
    print(f"현재 GPU: {torch.cuda.get_device_name(0)}")
else:
    print("CPU 모드로 실행됩니다.")
```

**샘플 출력:**
```
=== 시스템 정보 ===
Python 버전: 3.10.12 (main, Jul  5 2023, 18:54:27)
PyTorch 버전: 2.0.1
NumPy 버전: 1.24.3
SciPy 버전: 1.10.1

=== GPU 정보 ===
CUDA 사용 가능: True
CUDA 버전: 11.8
GPU 개수: 1
현재 GPU: NVIDIA GeForce RTX 3080
```

---

## 🎯 체크포인트

다음 항목을 모두 확인했으면 다음 단계로 진행하세요!

- [ ] Python 3.8 이상 설치 확인
- [ ] 프로젝트 폴더에 `requirements.txt` 존재
- [ ] 가상 환경 생성 및 활성화 (권장)
- [ ] `pip install -r requirements.txt` 성공
- [ ] GPU 사용 가능 여부 확인 (선택)
- [ ] 단위 테스트 또는 예제 실행 성공

---

## 🆘 문제 해결

### 문제 1: "No module named 'torch'"

**원인:** PyTorch 설치 실패

**해결:**
```bash
pip install torch --upgrade
```

### 문제 2: "CUDA out of memory"

**원인:** GPU 메모리 부족

**해결:**
1. 배치 크기 줄이기 (예제에서 `--batch-size` 플래그)
2. 모델 크기 줄이기 (`hidden_layers` 파라미터)
3. CPU 모드로 전환

### 문제 3: 테스트가 실패함

**원인:** 패키지 버전 불일치 또는 설치 불완전

**해결:**
```bash
pip uninstall torch numpy scipy -y
pip install -r requirements.txt --force-reinstall
```

### 문제 4: 가상 환경 활성화 안 됨 (Windows)

**원인:** PowerShell 실행 정책

**해결:**
```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

---

## 📚 추가 자료

- **PyTorch 공식 튜토리얼:** [https://pytorch.org/tutorials/](https://pytorch.org/tutorials/)
- **Python 가상 환경 가이드:** [https://docs.python.org/3/tutorial/venv.html](https://docs.python.org/3/tutorial/venv.html)
- **CUDA 설치 가이드:** [https://docs.nvidia.com/cuda/](https://docs.nvidia.com/cuda/)

---

## 🎉 축하합니다!

환경 설정을 완료했습니다! 이제 본격적으로 PINN 모델을 다룰 준비가 되었습니다.

**다음 단계:**

👉 [2단계: 데이터 준비로 이동하기](02_데이터준비.md)

또는 [메인 가이드로 돌아가기](../사용자_가이드.md)

---

*마지막 업데이트: 2025년 1월*
